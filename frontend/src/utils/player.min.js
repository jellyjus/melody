!function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return n(i?i:t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){function r(){h=!1,a.length?u=a.concat(u):c=-1,u.length&&n()}function n(){if(!h){var t=setTimeout(r);h=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,h=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,l=e.exports={},u=[],h=!1,c=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new o(t,e)),1!==u.length||h||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],2:[function(t,e,i){(function(t){!function(i){var r,n=function(){var e=[],r=function(t){return 1===e.push(t)},n=function(){var t=e,i=0,r=e.length;for(e=[];r>i;)t[i++]()};if("function"==typeof setImmediate)return function(t){r(t)&&setImmediate(n)};if("object"==typeof t&&t.nextTick)return function(e){r(e)&&t.nextTick(n)};var o=i.MutationObserver||i.WebKitMutationObserver;if(o){var s=1,a=document.createTextNode("");return new o(n).observe(a,{characterData:!0}),function(t){r(t)&&(a.data=s*=-1)}}if(i.postMessage){var l=!0;if(i.attachEvent){var u=function(){l=!1};i.attachEvent("onmessage",u),i.postMessage("__checkAsync","*"),i.detachEvent("onmessage",u)}if(l){var h="__promise"+ +new Date,c=function(t){t.data===h&&(t.stopPropagation&&t.stopPropagation(),n())};return i.addEventListener?i.addEventListener("message",c,!0):i.attachEvent("onmessage",c),function(t){r(t)&&i.postMessage(h,"*")}}}var p=i.document;if("onreadystatechange"in p.createElement("script")){var d=function(){var t=p.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,n()},(p.documentElement||p.body).appendChild(t)};return function(t){r(t)&&d()}}return function(t){r(t)&&setTimeout(n,0)}}(),o=function(t){n(function(){throw t})},s=function(t){return"function"==typeof t},a=function(t){return null!==t&&"object"==typeof t},l=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===l.call(t)},h=function(t){for(var e=[],i=0,r=t.length;r>i;)e.push(i++);return e},c=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},p=function(t){var e=function(e){this.name=t,this.message=e};return e.prototype=new Error,e},d=function(t,e){return function(i){t.call(this,i,e)}},f=function(){this._promise=new E};f.prototype={promise:function(){return this._promise},resolve:function(t){this._promise.isResolved()||this._promise._resolve(t)},reject:function(t){this._promise.isResolved()||(v.isPromise(t)?(t=t.then(function(t){var e=v.defer();return e.reject(t),e.promise()}),this._promise._resolve(t)):this._promise._reject(t))},notify:function(t){this._promise.isResolved()||this._promise._notify(t)}};var _={PENDING:0,RESOLVED:1,FULFILLED:2,REJECTED:3},E=function(t){if(this._value=r,this._status=_.PENDING,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],t){var e=this,i=t.length;t(function(t){e.isResolved()||e._resolve(t)},i>1?function(t){e.isResolved()||e._reject(t)}:r,i>2?function(t){e.isResolved()||e._notify(t)}:r)}};E.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==_.PENDING},isFulfilled:function(){return this._status===_.FULFILLED},isRejected:function(){return this._status===_.REJECTED},then:function(t,e,i,r){var n=new f;return this._addCallbacks(n,t,e,i,r),n.promise()},"catch":function(t,e){return this.then(r,t,e)},fail:function(t,e){return this.then(r,t,e)},always:function(t,e){var i=this,r=function(){return t.call(this,i)};return this.then(r,r,e)},progress:function(t,e){return this.then(r,r,t,e)},spread:function(t,e,i){return this.then(function(e){return t.apply(this,e)},e,i)},done:function(t,e,i,r){this.then(t,e,i,r).fail(o)},delay:function(t){var e,i=this.then(function(i){var r=new f;return e=setTimeout(function(){r.resolve(i)},t),r.promise()});return i.always(function(){clearTimeout(e)}),i},timeout:function(t){var e=new f,i=setTimeout(function(){e.reject(new v.TimedOutError("timed out"))},t);return this.then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise().always(function(){clearTimeout(i)}),e.promise()},_vow:!0,_resolve:function(t){if(!(this._status>_.RESOLVED)){if(t===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=_.RESOLVED,t&&t._vow)return void(t.isFulfilled()?this._fulfill(t.valueOf()):t.isRejected()?this._reject(t.valueOf()):t.then(this._fulfill,this._reject,this._notify,this));if(a(t)||s(t)){var e;try{e=t.then}catch(i){return void this._reject(i)}if(s(e)){var r=this,n=!1;try{e.call(t,function(t){n||(n=!0,r._resolve(t))},function(t){n||(n=!0,r._reject(t))},function(t){r._notify(t)})}catch(i){n||this._reject(i)}return}}this._fulfill(t)}},_fulfill:function(t){this._status>_.RESOLVED||(this._status=_.FULFILLED,this._value=t,this._callCallbacks(this._fulfilledCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=r)},_reject:function(t){this._status>_.RESOLVED||(this._status=_.REJECTED,this._value=t,this._callCallbacks(this._rejectedCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=r)},_notify:function(t){this._callCallbacks(this._progressCallbacks,t)},_addCallbacks:function(t,e,i,n,o){i&&!s(i)?(o=i,i=r):n&&!s(n)&&(o=n,n=r);var a;this.isRejected()||(a={defer:t,fn:s(e)?e:r,ctx:o},this.isFulfilled()?this._callCallbacks([a],this._value):this._fulfilledCallbacks.push(a)),this.isFulfilled()||(a={defer:t,fn:i,ctx:o},this.isRejected()?this._callCallbacks([a],this._value):this._rejectedCallbacks.push(a)),this._status<=_.RESOLVED&&this._progressCallbacks.push({defer:t,fn:n,ctx:o})},_callCallbacks:function(t,e){var i=t.length;if(i){var r=this.isResolved(),o=this.isFulfilled();n(function(){for(var n,s,a,l=0;i>l;)if(n=t[l++],s=n.defer,a=n.fn){var u,h=n.ctx;try{u=h?a.call(h,e):a(e)}catch(c){s.reject(c);continue}r?s.resolve(u):s.notify(u)}else r?o?s.resolve(e):s.reject(e):s.notify(e)})}}};var m={cast:function(t){return v.cast(t)},all:function(t){return v.all(t)},race:function(t){return v.anyResolved(t)},resolve:function(t){return v.resolve(t)},reject:function(t){return v.reject(t)}};for(var y in m)m.hasOwnProperty(y)&&(E[y]=m[y]);var v={Deferred:f,Promise:E,defer:function(){return new f},when:function(t,e,i,r,n){return v.cast(t).then(e,i,r,n)},fail:function(t,e,i){return v.when(t,r,e,i)},always:function(t,e,i){return v.when(t).always(e,i)},progress:function(t,e,i){return v.when(t).progress(e,i)},spread:function(t,e,i,r){return v.when(t).spread(e,i,r)},done:function(t,e,i,r,n){v.when(t).done(e,i,r,n)},isPromise:function(t){return a(t)&&s(t.then)},cast:function(t){return t&&t._vow?t:v.resolve(t)},valueOf:function(t){return t&&s(t.valueOf)?t.valueOf():t},isFulfilled:function(t){return t&&s(t.isFulfilled)?t.isFulfilled():!0},isRejected:function(t){return t&&s(t.isRejected)?t.isRejected():!1},isResolved:function(t){return t&&s(t.isResolved)?t.isResolved():!0},resolve:function(t){var e=v.defer();return e.resolve(t),e.promise()},fulfill:function(t){var e=v.defer(),i=e.promise();return e.resolve(t),i.isFulfilled()?i:i.then(null,function(t){return t})},reject:function(t){var e=v.defer();return e.reject(t),e.promise()},invoke:function(t,e){var r,n=Math.max(arguments.length-1,0);if(n){r=Array(n);for(var o=0;n>o;)r[o++]=arguments[o]}try{return v.resolve(r?t.apply(i,r):t.call(i))}catch(s){return v.reject(s)}},all:function(t){var e=new f,i=u(t),r=i?h(t):c(t),n=r.length,o=i?[]:{};if(!n)return e.resolve(o),e.promise();var s=n;return v._forEach(t,function(t,i){o[r[i]]=t,--s||e.resolve(o)},e.reject,e.notify,e,r),e.promise()},allResolved:function(t){var e=new f,i=u(t),r=i?h(t):c(t),n=r.length,o=i?[]:{};if(!n)return e.resolve(o),e.promise();var s=function(){--n||e.resolve(t)};return v._forEach(t,s,s,e.notify,e,r),e.promise()},allPatiently:function(t){return v.allResolved(t).then(function(){var e,i,r,n,o=u(t),s=o?h(t):c(t),a=s.length,l=0;if(!a)return o?[]:{};for(;a>l;)r=s[l++],n=t[r],v.isRejected(n)?(e||(e=o?[]:{}),o?e.push(n.valueOf()):e[r]=n.valueOf()):e||((i||(i=o?[]:{}))[r]=v.valueOf(n));if(e)throw e;return i})},any:function(t){var e=new f,i=t.length;if(!i)return e.reject(Error()),e.promise();var r,n=0;return v._forEach(t,e.resolve,function(t){n||(r=t),++n===i&&e.reject(r)},e.notify,e),e.promise()},anyResolved:function(t){var e=new f,i=t.length;return i?(v._forEach(t,e.resolve,e.reject,e.notify,e),e.promise()):(e.reject(Error()),e.promise())},delay:function(t,e){return v.resolve(t).delay(e)},timeout:function(t,e){return v.resolve(t).timeout(e)},_forEach:function(t,e,i,r,n,o){for(var s=o?o.length:t.length,a=0;s>a;)v.when(t[o?o[a]:a],d(e,a),i,r,n),++a},TimedOutError:p("TimedOut")},g=!0;"object"==typeof e&&"object"==typeof e.exports&&(e.exports=v,g=!1),"object"==typeof modules&&s(modules.define)&&(modules.define("vow",function(t){t(v)}),g=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=v}),g=!1),g&&(i.vow=v)}(this)}).call(this,t("_process"))},{_process:1}],3:[function(t,e,i){var r=t("./logger/logger"),n=new r("Audio"),o=t("./lib/async/events"),s=t("./lib/async/promise"),a=t("./lib/async/deferred"),l=t("./lib/browser/detect"),u=t("./config"),h=t("./lib/data/merge"),c=t("./lib/async/reject"),p=t("./error/audio-error"),d=t("./audio-static"),f=1,_={html5:t("./html5/audio-html5"),flash:t("./flash/audio-flash")},E="@"+l.platform.version+" "+l.platform.os+":"+l.browser.name+"/"+l.browser.version;_.flash.priority=0,_.html5.priority=u.html5.blacklist.some(function(t){return E.match(t)})?-1:1,setTimeout(function(){n.info({flash:{available:_.flash.available,priority:_.flash.priority},html5:{available:_.html5.available,priority:_.html5.priority,audioContext:!!_.html5.audioContext}},"audioTypes")},0);var m=function(t,e){this.name=f++,DEV&&n.debug(this,"constructor"),o.call(this),this.preferredType=t,this.overlay=e,this.state=m.STATE_INIT,this._played=0,this._lastSkip=0,this._playId=null,this._initInProgress=!0,this._whenReady=new a,this.whenReady=this._whenReady.promise().then(function(){this._initInProgress=!1,n.info(this,"implementation found",this.implementation.type),this.implementation.on("*",function(t,e,i){if(this._populateEvents(t,e,i),!e)switch(t){case m.EVENT_PLAY:this._setState(m.STATE_PLAYING);break;case m.EVENT_ENDED:case m.EVENT_SWAP:case m.EVENT_STOP:case m.EVENT_ERROR:n.info(this,"onEnded",t,i),this._setState(m.STATE_IDLE);break;case m.EVENT_PAUSE:this._setState(m.STATE_PAUSED);break;case m.EVENT_CRASHED:this._setState(m.STATE_CRASHED)}}.bind(this)),this._setState(m.STATE_IDLE)}.bind(this),function(t){throw this._initInProgress=!1,n.error(this,p.NO_IMPLEMENTATION,t),this._setState(m.STATE_CRASHED),t}.bind(this)),this._init(0)};o.mixin(m),h(m,d,!0),m.info={html5:_.html5.available,flash:_.flash.available},m.audioContext=_.html5.audioContext,m.prototype._setState=function(t){if(DEV&&n.debug(this,"_setState",t),t!==m.STATE_PAUSED||this.state===m.STATE_PLAYING){var e=this.state!==t;this.state=t,e&&(n.info(this,"newState",t),this.trigger(m.EVENT_STATE,t))}},m.prototype._init=function(t){function e(){var n=i.shift();return n?void r._initType(n).then(r._whenReady.resolve,e):void r._init(t+1)}if(t=t||0,n.info(this,"_init",t),this._initInProgress){t>u.audio.retry&&(n.error(this,p.NO_IMPLEMENTATION),this._whenReady.reject(new p(p.NO_IMPLEMENTATION)));var i=[_.html5,_.flash].sort(function(t,e){return t.available!==e.available?t.available?-1:1:t.AudioImplementation.type===this.preferredType?-1:e.AudioImplementation.type===this.preferredType?1:e.priority-t.priority}.bind(this)),r=this;e()}},m.prototype._initType=function(t){n.info(this,"_initType",t);var e=new a;try{this.implementation=new t.AudioImplementation(this.overlay),this.implementation.whenReady?this.implementation.whenReady.then(e.resolve,e.reject):e.resolve()}catch(i){e.reject(i),n.warn(this,"_initTypeError",t,i)}return e.promise()},m.prototype._waitEvents=function(t,e,i){var r=new a,n=this;this[t]=r;var o=function(){e.forEach(function(t){n.off(t,r.resolve)}),i.forEach(function(t){n.off(t,r.reject)}),delete n[t]};return e.forEach(function(t){n.on(t,r.resolve)}),i.forEach(function(t){n.on(t,function(e){var i=e instanceof Error?e:new p(e||t);r.reject(i)})}),r.promise().then(o,o),r.promise()},m.prototype._populateEvents=function(t,e,i){t!==m.EVENT_PROGRESS&&DEV&&n.debug(this,"_populateEvents",t,e,i);var r=(e?m.PRELOADER_EVENT:"")+t;switch(t){case m.EVENT_CRASHED:case m.EVENT_SWAP:this.trigger(t,i);break;case m.EVENT_ERROR:n.error(this,"error",r,i),this.trigger(r,i);break;case m.EVENT_VOLUME:this.trigger(t,this.getVolume());break;case m.EVENT_PROGRESS:this.trigger(r,{duration:this.getDuration(e),loaded:this.getLoaded(e),position:e?0:this.getPosition(),played:e?0:this.getPlayed()});break;default:this.trigger(r)}},m.prototype.initPromise=function(){return this.whenReady},m.prototype.getState=function(){return this.state},m.prototype.getType=function(){return this.implementation&&this.implementation.type},m.prototype.getSrc=function(t){return this.implementation&&this.implementation.getSrc(t)},m.prototype.play=function(t,e){n.info(this,"play",n._showUrl(t),e),this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("play"),this._whenPause&&this._whenPause.reject("play"),this._whenStop&&this._whenStop.reject("play");var i=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);return i.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED),this.implementation.play(t,e),i},m.prototype.restart=function(){return this.getDuration()?(this._generatePlayId(),this.setPosition(0),this._played=0,this._lastSkip=0,this.resume()):c(new p(p.BAD_STATE))},m.prototype.stop=function(t){if(n.info(this,"stop",t),0!==t)return this.implementation.stop(t);this._played=0,this._lastSkip=0,this._whenPlay&&this._whenPlay.reject("stop"),this._whenPause&&this._whenPause.reject("stop");var e;return e=this._whenStop?this._whenStop.promise():this._waitEvents("_whenStop",[m.EVENT_STOP],[m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.stop(),e},m.prototype.pause=function(){if(n.info(this,"pause"),this.state!==m.STATE_PLAYING)return c(new p(p.BAD_STATE));var t;return this._whenPlay&&this._whenPlay.reject("pause"),t=this._whenPause?this._whenPause.promise():this._waitEvents("_whenPause",[m.EVENT_PAUSE],[m.EVENT_STOP,m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.pause(),t},m.prototype.resume=function(){if(n.info(this,"resume"),this.state===m.STATE_PLAYING&&!this._whenPause)return s.resolve();if(this.state!==m.STATE_IDLE&&this.state!==m.STATE_PAUSED&&this.state!==m.STATE_PLAYING)return c(new p(p.BAD_STATE));var t;return this._whenPause&&this._whenPause.reject("resume"),this._whenPlay?t=this._whenPlay.promise():(t=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]),t.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this)),this.implementation.resume(),t},m.prototype.playPreloaded=function(t){if(n.info(this,"playPreloaded",n._showUrl(t)),t||(t=this.getSrc(1)),!this.isPreloaded(t))return n.warn(this,"playPreloadedBadTrack",p.NOT_PRELOADED),c(new p(p.NOT_PRELOADED));this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("playPreloaded"),this._whenPause&&this._whenPause.reject("playPreloaded"),this._whenStop&&this._whenStop.reject("playPreloaded");var e=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);e.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED);var i=this.implementation.playPreloaded();return i||(n.warn(this,"playPreloadedError",p.NOT_PRELOADED),this._whenPlay.reject(new p(p.NOT_PRELOADED))),e},m.prototype.preload=function(t,e){if("msie"===l.browser.name&&"9"==l.browser.version[0])return c(new p(p.NOT_PRELOADED));n.info(this,"preload",n._showUrl(t),e),this._whenPreload&&this._whenPreload.reject("preload");var i=this._waitEvents("_whenPreload",[m.PRELOADER_EVENT+m.EVENT_LOADING,m.EVENT_SWAP],[m.PRELOADER_EVENT+m.EVENT_CRASHED,m.PRELOADER_EVENT+m.EVENT_ERROR,m.PRELOADER_EVENT+m.EVENT_STOP]);return i.abort=function(){this._whenPreload&&(this._whenPreload.reject.apply(this._whenPreload,arguments),this.stop(1))}.bind(this),this.implementation.preload(t,e),i},m.prototype.isPreloaded=function(t){return this.implementation.isPreloaded(t)},m.prototype.isPreloading=function(t){return this.implementation.isPreloading(t,1)},m.prototype.getPosition=function(){return this.implementation.getPosition()||0},m.prototype.setPosition=function(t){return n.info(this,"setPosition",t),t="flash"==this.implementation.type?Math.max(0,Math.min(this.getLoaded()-1,t)):Math.max(0,Math.min(this.getDuration()-1,t)),this._played+=this.getPosition()-this._lastSkip,this._lastSkip=t,this.implementation.setPosition(t),t},m.prototype.getDuration=function(t){return this.implementation.getDuration(t?1:0)||0},m.prototype.getLoaded=function(t){return this.implementation.getLoaded(t?1:0)||0},m.prototype.getPlayed=function(){var t=this.getPosition();return this._played+=t-this._lastSkip,this._lastSkip=t,this._played},m.prototype.getVolume=function(){return this.implementation?this.implementation.getVolume():0},m.prototype.setVolume=function(t){return DEV&&n.debug(this,"setVolume",t),this.implementation?this.implementation.setVolume(t):0},m.prototype.isDeviceVolume=function(){return this.implementation?this.implementation.isDeviceVolume():!0},m.prototype.toggleCrossDomain=function(t){return"html5"!==this.implementation.type?(n.warn(this,"toggleCrossDomainFailed",this.implementation.type),!1):(this.implementation.toggleCrossDomain(t),!0)},m.prototype.toggleWebAudioAPI=function(t){return n.info(this,"toggleWebAudioAPI",t),"html5"!==this.implementation.type?(n.warn(this,"toggleWebAudioAPIFailed",this.implementation.type),!1):this.implementation.toggleWebAudioAPI(t)},m.prototype.setAudioPreprocessor=function(t){return n.info(this,"setAudioPreprocessor"),"html5"!==this.implementation.type?(n.warn(this,"setAudioPreprocessorFailed",this.implementation.type),!1):this.implementation.setAudioPreprocessor(t)},m.prototype._generatePlayId=function(){this._playId=Math.random().toString().slice(2)},m.prototype.getPlayId=function(){return this._playId},m.prototype._logger=function(){return{index:this.implementation&&this.implementation.name,src:this.implementation&&this.implementation._logger(),type:this.implementation&&this.implementation.type}},e.exports=m},{"./audio-static":4,"./config":5,"./error/audio-error":6,"./flash/audio-flash":10,"./html5/audio-html5":26,"./lib/async/deferred":28,"./lib/async/events":29,"./lib/async/promise":30,"./lib/async/reject":31,"./lib/browser/detect":32,"./lib/data/merge":37,"./logger/logger":43}],4:[function(t,e,i){var r={};r.EVENT_PLAY="play",r.EVENT_STOP="stop",r.EVENT_PAUSE="pause",r.EVENT_PROGRESS="progress",r.EVENT_LOADING="loading",r.EVENT_LOADED="loaded",r.EVENT_VOLUME="volumechange",r.EVENT_ENDED="ended",r.EVENT_CRASHED="crashed",r.EVENT_ERROR="error",r.EVENT_STATE="state",r.EVENT_SWAP="swap",r.PRELOADER_EVENT="preloader:",r.STATE_INIT="init",r.STATE_CRASHED="crashed",r.STATE_IDLE="idle",r.STATE_PLAYING="playing",r.STATE_PAUSED="paused",e.exports=r},{}],5:[function(t,e,i){var r={audio:{retry:3},flash:{path:"dist",name:"player-2_1.swf",version:"9.0.28",playerID:"YandexAudioFlashPlayer",callback:"ya.music.Audio._flashCallback",initTimeout:3e3,loadTimeout:5e3,clickTimeout:1e3,heartBeatInterval:1e3},html5:{blacklist:["linux:mozilla","unix:mozilla","macos:mozilla",":opera","@NT 5","@NT 4",":msie/9"]}};e.exports=r},{}],6:[function(t,e,i){var r=t("../lib/class/error-class"),n=function(t){r.call(this,t)};n.prototype=r.create("AudioError"),n.NO_IMPLEMENTATION="cannot find suitable implementation",n.NOT_PRELOADED="track is not preloaded",n.BAD_STATE="action is not permited from current state",n.FLASH_BLOCKER="flash is rejected by flash blocker plugin",n.FLASH_UNKNOWN_CRASH="flash is crashed without reason",n.FLASH_INIT_TIMEOUT="flash init timed out",n.FLASH_INTERNAL_ERROR="flash internal error",n.FLASH_EMMITER_NOT_FOUND="flash event emmiter not found",n.FLASH_NOT_RESPONDING="flash player doesn't response",e.exports=n},{"../lib/class/error-class":34}],7:[function(t,e,i){t("../export");var r=t("./audio-error"),n=t("./playback-error");ya.music.Audio.AudioError=r,ya.music.Audio.PlaybackError=n},{"../export":9,"./audio-error":6,"./playback-error":8}],8:[function(t,e,i){var r=t("../lib/class/error-class"),n=function(t,e){r.call(this,t),this.src=e};n.prototype=r.create("PlaybackError"),n.CONNECTION_ABORTED="Connection aborted",n.NETWORK_ERROR="Network error",n.DECODE_ERROR="Decode error",n.BAD_DATA="Bad data",n.DONT_START="Playback start error",n.html5={1:n.CONNECTION_ABORTED,2:n.NETWORK_ERROR,3:n.DECODE_ERROR,4:n.BAD_DATA},e.exports=n},{"../lib/class/error-class":34}],9:[function(t,e,i){"undefined"==typeof DEV&&(window.DEV=!0),"undefined"==typeof window.ya&&(window.ya={});var r=window.ya;"undefined"==typeof r.music&&(r.music={}),"undefined"==typeof r.music.Audio&&(r.music.Audio={});var n=t("./config"),o=t("./audio-player"),s=t("./lib/class/proxy");r.music.Audio=s.createClass(o),r.music.Audio.config=n,t("./lib/export"),e.exports=r.music.Audio},{"./audio-player":3,"./config":5,"./lib/class/proxy":35,"./lib/export":38}],10:[function(t,e,i){var r,n=t("../config"),o=t("../lib/browser/swfobject"),s=t("../lib/browser/detect"),a=t("../logger/logger"),l=new a("AudioFlash"),u=t("./flash-manager"),h=t("./flash-interface"),c=t("../lib/async/events"),p=1,d=o.getFlashPlayerVersion();s.flashVersion=d.major+"."+d.minor+"."+d.release,i.available=o.hasFlashPlayerVersion(n.flash.version),l.info(this,"detection",i.available);var f=function(t,e){this.name=p++,DEV&&l.debug(this,"constructor"),r&&!e||(r=new u(t)),c.call(this),this.whenReady=r.createPlayer(this),this.whenReady.then(function(t){l.info(this,"ready",t)}.bind(this),function(t){l.error(this,"failed",t)}.bind(this))};c.mixin(f),i.type=f.type=f.prototype.type="flash",Object.keys(h.prototype).filter(function(t){return h.prototype.hasOwnProperty(t)&&"_"!==t[0]}).map(function(t){f.prototype[t]=function(){if(/^get/.test(t)||DEV&&l.debug(this,t),!this.hasOwnProperty("id"))return l.warn(this,"player is not ready"),null;var e=[].slice.call(arguments);return e.unshift(this.id),r.flash[t].apply(r.flash,e)}}),f.prototype.isDeviceVolume=function(){return!1},f.prototype._logger=function(){try{return this.hasOwnProperty("id")?{main:l._showUrl(this.getSrc(0)),preloader:l._showUrl(this.getSrc(1))}:{main:"not ready",preloader:"not ready"}}catch(t){return""}},i.AudioImplementation=f},{"../config":5,"../lib/async/events":29,"../lib/browser/detect":32,"../lib/browser/swfobject":33,"../logger/logger":43,"./flash-interface":11,"./flash-manager":12}],11:[function(t,e,i){var r=t("../logger/logger"),n=new r("FlashInterface"),o=function(t){this.flash=ya.music.Audio._flash=t};o.prototype._callFlash=function(t){try{return this.flash.call.apply(this.flash,arguments)}catch(e){return n.error(this,"_callFlashError",e,arguments[0],arguments[1],arguments[2]),null}},o.prototype._heartBeat=function(){this._callFlash("heartBeat",-1)},o.prototype._addPlayer=function(){return this._callFlash("addPlayer",-1)},o.prototype.setVolume=function(t,e){this._callFlash("setVolume",-1,e)},o.prototype.getVolume=function(){return this._callFlash("getVolume",-1)},o.prototype.play=function(t,e,i){this._callFlash("play",t,e,i&&1e3*i)},o.prototype.stop=function(t,e){this._callFlash("stop",t,e||0)},o.prototype.pause=function(t){this._callFlash("pause",t)},o.prototype.resume=function(t){this._callFlash("resume",t)},o.prototype.getPosition=function(t){return this._callFlash("getPosition",t)},o.prototype.setPosition=function(t,e){this._callFlash("setPosition",t,e)},o.prototype.getDuration=function(t,e){return this._callFlash("getDuration",t,e||0)},o.prototype.getLoaded=function(t,e){return this._callFlash("getLoaded",t,e||0)},o.prototype.preload=function(t,e,i,r){return this._callFlash("preload",t,e,i&&1e3*i,null==r?1:r)},o.prototype.isPreloaded=function(t,e,i){return this._callFlash("isPreloaded",t,e,null==i?1:i)},o.prototype.isPreloading=function(t,e,i){return this._callFlash("isPreloading",t,e,null==i?1:i)},o.prototype.playPreloaded=function(t,e){return this._callFlash("playPreloaded",t,null==e?1:e)},o.prototype.getSrc=function(t,e){return this._callFlash("getSrc",t,e||0)},e.exports=o},{"../logger/logger":43}],12:[function(t,e,i){var r=t("../logger/logger"),n=new r("FlashManager"),o=t("../config"),s=t("../audio-static"),a=t("./loader"),l=t("./flash-interface"),u=t("../lib/async/promise"),h=t("../lib/async/deferred"),c=t("../error/audio-error"),p=t("../lib/net/error/loader-error"),d=function(t){DEV&&n.debug(this,"constructor",t),this.state="init",this.overlay=t,this.emmiters=[];var e=this.deferred=new h;this.whenReady=this.deferred.promise();var i=o.flash.callback.split("."),r=i.pop(),s=window;if(i.forEach(function(t){s[t]||(s[t]={}),s=s[t]}),s[r]=this._onEvent.bind(this),this.__loadTimeout=setTimeout(this._onLoadTimeout.bind(this),o.flash.loadTimeout),a(o.flash.path+"/"+o.flash.name,o.flash.version,o.flash.playerID,this._onLoad.bind(this),{},t),t){var l;t.addEventListener("mousedown",function(){l=l||setTimeout(function(){e.reject(new c(c.FLASH_NOT_RESPONDING))},o.flash.clickTimeout)},!0)}this.whenReady.then(function(t){l=l&&clearTimeout(l),n.info(this,"ready",t)}.bind(this),function(t){n.error(this,"failed",t)}.bind(this))};d.EVENT_INIT="init",d.EVENT_FAIL="failed",d.EVENT_ERROR="error",d.EVENT_DEBUG="debug",d.prototype._onLoad=function(t){DEV&&n.debug(this,"_onLoad",t),clearTimeout(this.__loadTimeout),delete this.__loadTimeout,t.success?(this.flash=new l(t.ref),"ready"===this.state?this.deferred.resolve(t.ref):this.overlay||(this.__initTimeout=setTimeout(this._onInitTimeout.bind(this),o.flash.initTimeout))):(this.state="failed",this.deferred.reject(new c(t.__fbn?c.FLASH_BLOCKER:c.FLASH_UNKNOWN_CRASH)))},d.prototype._onLoadTimeout=function(){this.state="failed",this.deferred.reject(new p(p.TIMEOUT))},d.prototype._onInitTimeout=function(){this.state="failed",this.deferred.reject(new c(c.FLASH_INIT_TIMEOUT))},d.prototype._onInit=function(){DEV&&n.debug(this,"_onInit"),this.state="ready",this.__initTimeout&&(clearTimeout(this.__initTimeout),delete this.__initTimeout),this.flash&&(this.deferred.resolve(this.flash),this.__heartbeat=setInterval(this._onHeartBeat.bind(this),1e3))},d.prototype._onEvent=function(t,e,i,r){return"failed"===this.state?void n.warn(this,"onEventFailed",t,e,i,r):(t===d.EVENT_DEBUG?n.info(this,"flashDEBUG",e,i,r):t===d.EVENT_ERROR?n.warn(this,"flashError",e,i,r):DEV&&n.debug(this,"onEvent",t,e,i),t===d.EVENT_INIT?this._onInit():t===d.EVENT_FAIL?(n.error(this,"failed",c.FLASH_INTERNAL_ERROR),void this.deferred.reject(new c(c.FLASH_INTERNAL_ERROR))):void(-1==e?u.resolve().then(function(){this.emmiters.forEach(function(e){e.trigger(t,i,r)})}.bind(this)):this.emmiters[e]?u.resolve().then(function(){this.emmiters[e].trigger(t,i,r)}.bind(this)):n.error(this,c.FLASH_EMMITER_NOT_FOUND,e)))},d.prototype._onHeartBeat=function(){try{this.flash._heartBeat()}catch(t){n.error(this,"crashed",t),this._onEvent(s.EVENT_CRASHED,-1,t)}},d.prototype.createPlayer=function(t){DEV&&n.debug(this,"createPlayer");var e=this.whenReady.then(function(){return t.id=this.flash._addPlayer(),this.emmiters[t.id]=t,t.id}.bind(this));return e.then(function(t){DEV&&n.debug(this,"createPlayerSuccess",t)}.bind(this),function(t){n.error(this,"createPlayerError",t)}.bind(this)),e},e.exports=d},{"../audio-static":4,"../config":5,"../error/audio-error":6,"../lib/async/deferred":28,"../lib/async/promise":30,"../lib/net/error/loader-error":40,"../logger/logger":43,"./flash-interface":11,"./loader":15}],13:[function(t,e,i){function r(t){t.parentNode.removeChild(t)}var n=t("../lib/browser/swfobject"),o={__SWF_WRAPPER_CLASS:"fbn-swf-wrapper",__TIMEOUT:500,__TESTS:[function(t,e){return e.childNodes.length>1},function(t){return t.type&&"application/x-shockwave-flash"!=t.type},function(t){return!t.parentNode},function(t){return t.parentNode.className.indexOf("CTFnodisplay")>-1}],embedSWF:function(t,e,i,s,a,l,u,h,c,p,d){n&&n.addDomLoadEvent(function(){var f=document.getElementById(e);if(f){var _=document.createElement("div");_.className=o.__SWF_WRAPPER_CLASS,f.parentNode.replaceChild(_,f),_.appendChild(f),n.embedSWF(t,e,i,s,a,l,u,h,c,function(t){function i(t){if(d!==!1){n.removeSWF(e),r(_);var i=document.getElementById("CTFstack");i&&r(i);var o=document.body.lastChild;o&&"ujs_flashblock_placeholder"==o.className&&r(o)}t.success=!1,t.__fbn=!0,p(t)}if(t&&t.success!==!1){var s=t.ref,a=!1;try{a=s&&s.getSVGDocument&&s.getSVGDocument()}catch(l){}a?i(t):window.setTimeout(function(){for(var e=o.__TESTS,r=0,n=e.length;n>r;r++)if(e[r](s,_))return void i(t);p(t)},o.__TIMEOUT)}else p(t)})}})}};e.exports=o},{"../lib/browser/swfobject":33}],14:[function(t,e,i){var r=t("../lib/browser/swfobject"),n={__SWF_WRAPPER_CLASS:"femb-swf-wrapper",__TIMEOUT:500,embedSWF:function(t,e,i,o,s,a,l,u,h,c){r.addDomLoadEvent(function(){var p=document.getElementById(e);if(p){var d=document.createElement("div");d.className=n.__SWF_WRAPPER_CLASS,p.parentNode.replaceChild(d,p),d.appendChild(p),r.embedSWF(t,e,i,o,s,a,l,u,h,function(t){function e(t){t.success=!1,c(t)}if(t&&t.success!==!1){var i=t.ref,r=!1;try{r=i&&i.getSVGDocument&&i.getSVGDocument()}catch(o){}r?e(t):window.setTimeout(function(){c(t)},n.__TIMEOUT)}else c(t)})}})}};e.exports=n},{"../lib/browser/swfobject":33}],15:[function(t,e,i){var r=t("./flashblocknotifier"),n=t("./flashembedder"),o=t("../lib/browser/detect"),s="windows"===o.platform.os&&"safari"===o.browser.name,a="ya-flash-player-wrapper";e.exports=function(t,e,i,o,l,u,h,c){var p=document.createElement("div");p.id="wrapper_"+i,p.innerHTML='<div id="'+i+'"></div>',h=h||"1000",c=c||"1000";var d,f,_,E;return u&&!s?(d=n,f=h,_=c,E={allowscriptaccess:"always",wmode:"transparent"},p.className=a,p.style.cssText="position: relative; width: 100%; height: 100%; overflow: hidden;",u.appendChild(p)):(d=r,f=_="1",E={allowscriptaccess:"always"},p.style.cssText="position: absolute; left: -1px; top: -1px; width: 0px; height: 0px; overflow: hidden;",document.body.appendChild(p)),d.embedSWF(t,i,f,_,e,"",l,E,{},o),p}},{"../lib/browser/detect":32,"./flashblocknotifier":13,"./flashembedder":14}],16:[function(t,e,i){e.exports=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3]},{}],17:[function(t,e,i){e.exports=[{id:"default",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"Classical",preamp:-.5,bands:[-.5,-.5,-.5,-.5,-.5,-.5,-3.5,-3.5,-3.5,-4.5]},{id:"Club",preamp:-3.359999895095825,bands:[-.5,-.5,4,2.5,2.5,2.5,1.5,-.5,-.5,-.5]},{id:"Dance",preamp:-2.1599998474121094,bands:[4.5,3.5,1,-.5,-.5,-2.5,-3.5,-3.5,-.5,-.5]},{id:"Full Bass",preamp:-3.5999999046325684,bands:[4,4.5,4.5,2.5,.5,-2,-4,-5,-5.5,-5.5]},{id:"Full Bass & Treble",preamp:-5.039999961853027,bands:[3.5,2.5,-.5,-3.5,-2,.5,4,5.5,6,6]
},{id:"Full Treble",preamp:-6,bands:[-4.5,-4.5,-4.5,-2,1,5.5,8,8,8,8]},{id:"Laptop Speakers / Headphone",preamp:-4.079999923706055,bands:[2,5.5,2.5,-1.5,-1,.5,2,4.5,6,7]},{id:"Large Hall",preamp:-3.5999999046325684,bands:[5,5,2.5,2.5,-.5,-2,-2,-2,-.5,-.5]},{id:"Live",preamp:-2.6399998664855957,bands:[-2,-.5,2,2.5,2.5,2.5,2,1,1,1]},{id:"Party",preamp:-2.6399998664855957,bands:[3.5,3.5,-.5,-.5,-.5,-.5,-.5,-.5,3.5,3.5]},{id:"Pop",preamp:-3.119999885559082,bands:[-.5,2,3.5,4,2.5,-.5,-1,-1,-.5,-.5]},{id:"Reggae",preamp:-4.079999923706055,bands:[-.5,-.5,-.5,-2.5,-.5,3,3,-.5,-.5,-.5]},{id:"Rock",preamp:-5.039999961853027,bands:[4,2,-2.5,-4,-1.5,2,4,5.5,5.5,5.5]},{id:"Ska",preamp:-5.519999980926514,bands:[-1,-2,-2,-.5,2,2.5,4,4.5,5.5,4.5]},{id:"Soft",preamp:-4.799999713897705,bands:[2,.5,-.5,-1,-.5,2,4,4.5,5.5,6]},{id:"Soft Rock",preamp:-2.6399998664855957,bands:[2,2,1,-.5,-2,-2.5,-1.5,-.5,1,4]},{id:"Techno",preamp:-3.8399999141693115,bands:[4,2.5,-.5,-2.5,-2,-.5,4,4.5,4.5,4]}]},{}],18:[function(t,e,i){var r=t("../../lib/async/events"),n=t("./equalizer-static"),o=function(t,e,i){r.call(this),this.type=e,this.filter=t.createBiquadFilter(),this.filter.type=e,this.filter.frequency.value=i,this.filter.Q.value=1,this.filter.gain.value=0};r.mixin(o),o.prototype.getFreq=function(){return this.filter.frequency.value},o.prototype.getValue=function(){return this.filter.gain.value},o.prototype.setValue=function(t){this.filter.gain.value=t,this.trigger(n.EVENT_CHANGE,t)},e.exports=o},{"../../lib/async/events":29,"./equalizer-static":19}],19:[function(t,e,i){var r={};r.EVENT_CHANGE="change",e.exports=r},{}],20:[function(t,e,i){var r=t("../../lib/async/events"),n=t("../../lib/data/merge"),o=t("./equalizer-static"),s=t("./equalizer-band"),a=function(t,e){r.call(this),this.preamp=new s(t,"highshelf",0),this.preamp.on("*",this._onBandEvent.bind(this,this.preamp)),e=e||a.DEFAULT_BANDS;var i;this.bands=e.map(function(r,n){var o=new s(t,0==n?"lowshelf":n+1<e.length?"peaking":"highshelf",r);return o.on("*",this._onBandEvent.bind(this,o)),i?i.filter.connect(o.filter):this.preamp.filter.connect(o.filter),i=o,o}.bind(this)),this.input=this.preamp.filter,this.output=this.bands[this.bands.length-1].filter};r.mixin(a),n(a,o,!0),a.DEFAULT_BANDS=t("./default.bands.js"),a.DEFAULT_PRESETS=t("./default.presets.js"),a.prototype._onBandEvent=function(t,e,i){this.trigger(e,t.getFreq(),i)},a.prototype.loadPreset=function(t){t.bands.forEach(function(t,e){this.bands[e].setValue(t)}.bind(this)),this.preamp.setValue(t.preamp)},a.prototype.savePreset=function(){return{preamp:this.preamp.getValue(),bands:this.bands.map(function(t){return t.getValue()})}},a.prototype.guessPreamp=function(){for(var t=0,e=0,i=this.bands.length;i>e;e++)t+=this.bands[e].getValue();return-t/2},e.exports=a},{"../../lib/async/events":29,"../../lib/data/merge":37,"./default.bands.js":16,"./default.presets.js":17,"./equalizer-band":18,"./equalizer-static":19}],21:[function(t,e,i){t("../export"),ya.music.Audio.fx.Equalizer=t("./equalizer")},{"../export":22,"./equalizer":20}],22:[function(t,e,i){t("../export"),ya.music.Audio.fx={}},{"../export":9}],23:[function(t,e,i){t("../export"),ya.music.Audio.fx.volumeLib=t("./volume-lib")},{"../export":22,"./volume-lib":24}],24:[function(t,e,i){var r={};r.EPSILON=.01,r._DBFS_COEF=20/Math.log(10),r.toExponent=function(t){var e=Math.pow(r.EPSILON,1-t);return e>r.EPSILON?e:0},r.fromExponent=function(t){return 1-Math.log(Math.max(t,r.EPSILON))/Math.log(r.EPSILON)},r.toDBFS=function(t){return Math.log(t)*r._DBFS_COEF},r.fromDBFS=function(t){return Math.exp(t/r._DBFS_COEF)},e.exports=r},{}],25:[function(t,e,i){var r=t("../logger/logger"),n=new r("AudioHTML5Loader"),o=t("../lib/async/events"),s=t("../lib/async/deferred"),a=t("../audio-static"),l=t("../error/playback-error"),u=t("../lib/noop"),h=1,c=function(){this.name=h++,DEV&&n.debug(this,"constructor"),o.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&DEV&&n.debug(this,"onEvent",t)}.bind(this)),this.promises={},this.src="",this.position=0,this.lastUpdate=0,this.notLoading=!0,this.output=null,this.__startPlay=this._startPlay.bind(this),this.__restart=this._restart.bind(this),this.__startupAudio=this._startupAudio.bind(this),this.__updateProgress=this._updateProgress.bind(this),this.__onNativeLoading=this._onNativeLoading.bind(this),this.__onNativeEnded=this._onNativeEnded.bind(this),this.__onNativeError=this._onNativeError.bind(this),this.__onNativePause=this._onNativePause.bind(this),this.__onNativePlay=this.trigger.bind(this,a.EVENT_PLAY),this._initAudio()};o.mixin(c),c._catchPromise=function(t){t&&t["catch"]&&t["catch"](function(){})},c._updateInterval=30,c.EVENT_NATIVE_PLAY="play",c.EVENT_NATIVE_PAUSE="pause",c.EVENT_NATIVE_TIMEUPDATE="timeupdate",c.EVENT_NATIVE_ENDED="ended",c.EVENT_NATIVE_DURATION="durationchange",c.EVENT_NATIVE_LOADING="progress",c.EVENT_NATIVE_META="loadedmetadata",c.EVENT_NATIVE_CANPLAY="canplay",c.EVENT_NATIVE_ERROR="error",c._defaultInitListener=function(){},c._defaultInitListener.step="user",c.prototype._updateProgress=function(){var t=+new Date;t-this.lastUpdate<c._updateInterval||(this.lastUpdate=t,this.trigger(a.EVENT_PROGRESS))},c.prototype._onNativeLoading=function(){if(this._updateProgress(),this.audio.buffered.length){var t=this.audio.buffered.end(0)-this.audio.buffered.start(0);this.notLoading&&t&&(this.notLoading=!1,this.trigger(a.EVENT_LOADING)),t>=this.audio.duration-.1&&this.trigger(a.EVENT_LOADED)}},c.prototype._onNativeEnded=function(){this.trigger(a.EVENT_PROGRESS),this.trigger(a.EVENT_ENDED),this.ended=!0,this.playing=!1,c._catchPromise(this.audio.pause())},c.prototype._onNativeError=function(t){if(this.src){if(2==this.audio.error.code)return n.warn(this,"Network error. Restarting...",n._showUrl(this.src)),this.position=this.audio.currentTime,void this._restart();var e=new l(this.audio.error?l.html5[this.audio.error.code]:t instanceof Error?t.message:t,this.src);this.playing=!1,this.trigger(a.EVENT_ERROR,e)}},c.prototype._onNativePause=function(){this.ended||this.trigger(a.EVENT_PAUSE)},c.prototype._initUserEvents=function(){document.body.addEventListener("mousedown",this.__startupAudio,!0),document.body.addEventListener("keydown",this.__startupAudio,!0),document.body.addEventListener("touchstart",this.__startupAudio,!0)},c.prototype._deinitUserEvents=function(){document.body.removeEventListener("mousedown",this.__startupAudio,!0),document.body.removeEventListener("keydown",this.__startupAudio,!0),document.body.removeEventListener("touchstart",this.__startupAudio,!0)},c.prototype._initNativeEvents=function(){this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.addEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.addEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._deinitNativeEvents=function(){this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.removeEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.removeEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._initAudio=function(){DEV&&n.debug(this,"_initAudio"),this.muteEvents(),this.audio=document.createElement("audio"),this.audio.loop=!1,this.audio.preload=this.audio.autobuffer="auto",this.audio.autoplay=!1,this.audio.src="",this._initUserEvents(),this.__initListener=c._defaultInitListener,this._initNativeEvents()},c.prototype._deinitAudio=function(){DEV&&n.debug(this,"_deinitAudio"),this.muteEvents(),this._deinitUserEvents(),this._deinitNativeEvents(),this.audio=null},c.prototype._startupAudio=function(){DEV&&n.debug(this,"_startupAudio"),this._deinitUserEvents(),this.__initListener=function(t){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.__initListener=function(){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),delete this.__initListener,this.unmuteEvents(),n.info(this,"_startupAudio:ready"))}.bind(this),this.__initListener.step="pause",this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),c._catchPromise(this.audio.pause()),DEV&&n.debug(this,"_startupAudio:play",t.type))}.bind(this),this.__initListener.step="play",this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),c._catchPromise(this.audio.load()),c._catchPromise(this.audio.play())},c.prototype._breakStartup=function(t){this._deinitUserEvents(),this.unmuteEvents(),this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),n.warn(this,"_startupAudio:interrupted",this.__initListener.step,t),delete this.__initListener)},c.prototype._waitFor=function(t,e,i){if(!this.promises[t]){var r=new s;if(this.promises[t]=r,e.call(this))r.resolve();else{for(var n=function(){e.call(this)&&r.resolve()}.bind(this),o=function(){for(var t=0,e=i.length;e>t;t++)this.audio.removeEventListener(i[t],n)}.bind(this),a=0,l=i.length;l>a;a++)this.audio.addEventListener(i[a],n);r.promise().then(o,o)}}return this.promises[t].promise()},c.prototype._cancelWait=function(t,e){var i;(i=this.promises[t])&&(delete this.promises[t],i.reject(e))},c.prototype._abortPromises=function(t){for(var e in this.promises)this.promises.hasOwnProperty(e)&&this._cancelWait(e,t)},c._promiseMetadataEvents=[c.EVENT_NATIVE_META,c.EVENT_NATIVE_CANPLAY],c.prototype._promiseMetadataCheck=function(){return this.audio.readyState>this.audio.HAVE_METADATA},c.prototype._promiseMetadata=function(){return this._waitFor("metadata",this._promiseMetadataCheck,c._promiseMetadataEvents)},c._promiseLoadedEvents=[c.EVENT_NATIVE_LOADING],c.prototype._promiseLoadedCheck=function(){this.__loaderTimer=this.__loaderTimer&&clearTimeout(this.__loaderTimer)||setTimeout(function(){this._cancelWait("loaded","timeout")}.bind(this),5e3);var t=Math.min(this.position+45,this.audio.duration);return this.audio.buffered.length&&this.audio.buffered.end(0)-this.audio.buffered.start(0)>=t},c.prototype._promiseLoaded=function(){var t=this._waitFor("loaded",this._promiseLoadedCheck,c._promiseLoadedEvents);return t.cleanTimer||(t.cleanTimer=function(){this.__loaderTimer=clearTimeout(this.__loaderTimer)}.bind(this),t.then(t.cleanTimer,t.cleanTimer)),t},c._promisePlayingEvents=[c.EVENT_NATIVE_TIMEUPDATE],c.prototype._promisePlayingCheck=function(){var t=Math.min(this.position+.2,this.audio.duration);return this.audio.currentTime>=t},c.prototype._promisePlaying=function(){return this._waitFor("playing",this._promisePlayingCheck,c._promisePlayingEvents)},c.prototype._promiseStartPlaying=function(){if(!this.promises.startPlaying){var t=new s;this.promises.startPlaying=t;var e,i=function(t){r=!0,this._cancelWait("startPlaying",t)}.bind(this),r=!1,o=function(){clearTimeout(e)};this._promisePlaying().then(function(){r=!0,t.resolve(),n.info(this,"startPlaying:success")}.bind(this),i),this._promiseLoaded().then(function(){r||(e=setTimeout(function(){t.reject("timeout"),this._cancelWait("playing","timeout"),n.warn(this,"startPlaying:failed")}.bind(this),5e3))}.bind(this),i),this._promisePlaying().then(o,o),t.promise().then(o,o)}return this.promises.startPlaying.promise()},c.prototype.load=function(t){DEV&&n.debug(this,"load",t),this._abortPromises("load"),this._breakStartup("load"),this.ended=!1,this.playing=!1,this.notLoading=!0,this.position=0,this.src=t,this.audio.src=t,c._catchPromise(this.audio.load())},c.prototype.stop=function(){DEV&&n.debug(this,"stop"),this._abortPromises("stop"),this._breakStartup("stop"),this.load("")},c.prototype._startPlay=function(){DEV&&n.debug(this,"_startPlay"),this.audio.currentTime=this.position,this.playing&&(this._breakStartup("startPlay"),c._catchPromise(this.audio.play()),this._promiseStartPlaying().then(function(){this.retry=0}.bind(this),this.__restart))},c.prototype._restart=function(t){if(n.info(this,"_restart",t,this.position,this.playing),this.src&&(!t||"timeout"===t)){if(this.retry++,this.retry>5)return this.playing=!1,void this.trigger(a.EVENT_ERROR,new l(l.DONT_START,this.src));var e=this.position,i=this.playing;this.load(this.src),i?this._play(e):this.setPosition(e)}},c.prototype.play=function(t){return DEV&&n.debug(this,"play",t),this.retry=0,this._play(t)},c.prototype._play=function(t){DEV&&n.debug(this,"_play",t),this.playing||(this._breakStartup("play"),this.ended=!1,this.playing=!0,this.position=null==t?this.position||0:t,this._promiseMetadata().then(this.__startPlay,u))},c.prototype.pause=function(){DEV&&n.debug(this,"pause"),this.playing=!1,this._cancelWait("startPlaying","pause"),this._breakStartup("pause"),c._catchPromise(this.audio.pause()),this.position=this.audio.currentTime},c.prototype.setPosition=function(t){return DEV&&n.debug(this,"setPosition",t),isFinite(t)?(this.position=t,void this._promiseMetadata().then(function(){this.audio.currentTime=this.position}.bind(this),u)):void n.warn(this,"setPositionFailed",t)},c.prototype.toggleCrossDomain=function(t){t?this.audio.crossOrigin="anonymous":this.audio.removeAttribute("crossOrigin"),this._restart()},c.prototype.createSource=function(t){if(!this.output){DEV&&n.debug(this,"createSource");var e=!this.audio.crossOrigin;this.audio.crossOrigin="anonymous",this.output=t.createMediaElementSource(this.audio),this.output.connect(t.destination),e&&this._restart()}},c.prototype.destroySource=function(){this.output&&(n.warn(this,"destroySource"),this.output.disconnect(),this.output=null,this._abortPromises("destroy"),this._deinitAudio(),this._initAudio(),this._startupAudio(),this._restart())},c.prototype.destroy=function(){DEV&&n.debug(this,"destroy"),this.output&&(this.output.disconnect(),this.output=null),this._abortPromises(),this._deinitAudio(),this.__restart=null,this.__startPlay=null,this.promises=null},c.prototype._logger=function(){return{init:!!this.__initListener&&this.__initListener.step,src:n._showUrl(this.src),playing:this.playing,ended:this.ended,notLoading:this.notLoading,position:this.position}},e.exports=c},{"../audio-static":4,"../error/playback-error":8,"../lib/async/deferred":28,"../lib/async/events":29,"../lib/noop":41,"../logger/logger":43}],26:[function(t,e,i){var r=t("../logger/logger"),n=new r("AudioHTML5"),o=t("../lib/browser/detect"),s=t("../lib/async/events"),a=t("../audio-static"),l=t("./audio-html5-loader"),u=1;if(i.available=function(){var t=!0;try{var e=document.createElement("audio"),i=e.canPlayType("audio/mpeg");i&&"no"!==i||(n.warn(this,"HTML5 detection failed with reason",i),t=!1)}catch(r){n.warn(this,"HTML5 detection failed with error",r),t=!1}return n.info(this,"detection",t),t}(),o.platform.mobile||o.platform.tablet)h=null,n.info(this,"WebAudioAPI not allowed for mobile");else try{var h=new AudioContext;n.info(this,"WebAudioAPI context created")}catch(c){h=null,n.info(this,"WebAudioAPI not detected")}var p=function(){this.name=u++,DEV&&n.debug(this,"constructor"),s.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&DEV&&n.debug(this,"onEvent",t)}.bind(this)),this.webAudioApi=!1,this.activeLoader=0,this.volume=1,this.loaders=[],this._addLoader(),this._addLoader(),this._setActive(0)};s.mixin(p),i.type=p.type=p.prototype.type="html5",p.prototype._addLoader=function(){DEV&&n.debug(this,"_addLoader");var t=this,e=new l;e.index=this.loaders.push(e)-1,e.on("*",function(i,r){var n=(t.loaders.length+e.index-t.activeLoader)%t.loaders.length;t.trigger(i,n,r)}),this.webAudioApi&&e.createSource(h)},p.prototype._setActive=function(t){DEV&&n.debug(this,"_setActive",t),this.activeLoader=(this.activeLoader+t)%this.loaders.length,this.trigger(a.EVENT_SWAP,t),0!==t&&this.stop(t)},p.prototype._getLoader=function(t){return t=t||0,this.loaders[(this.activeLoader+t)%this.loaders.length]},p.prototype.toggleCrossDomain=function(t){this.loaders.forEach(function(e){e.toggleCrossDomain(t)})},p.prototype.toggleWebAudioAPI=function(t){return h?(n.info(this,"toggleWebAudioAPI",t),this.webAudioApi==t?t:(t?(this.audioOutput=h.createGain(),this.audioOutput.gain.value=this.volume,this.audioOutput.connect(h.destination),this.preprocessor&&this.preprocessor.output.connect(this.audioOutput),this.loaders.forEach(function(t){t.audio.volume=1,t.createSource(h),t.output.disconnect(),t.output.connect(this.preprocessor?this.preprocessor.input:this.audioOutput)}.bind(this))):this.audioOutput&&(this.preprocessor&&this.preprocessor.output.disconnect(),this.audioOutput.disconnect(),delete this.audioOutput,this.loaders.forEach(function(t){t.audio.volume=this.volume,t.output.disconnect(),t.output.connect(h.destination)}.bind(this))),this.webAudioApi=t,t)):(n.warn(this,"toggleWebAudioAPIError",t),!1)},p.prototype.setAudioPreprocessor=function(t){return this.webAudioApi?(n.info(this,"setAudioPreprocessor"),this.preprocessor===t?!0:(this.preprocessor&&this.preprocessor.output.disconnect(),this.preprocessor=t,t?(this.loaders.forEach(function(e){e.output.disconnect(),e.output.connect(t.input)}),t.output.connect(this.audioOutput),!0):(this.loaders.forEach(function(t){t.output.disconnect(),t.output.connect(this.audioOutput)}.bind(this)),!0))):(n.warn(this,"setAudioPreprocessorError",t),!1)},p.prototype.play=function(t,e){DEV&&n.debug(this,"play",t);var i=this._getLoader();i.load(t),i.play(0)},p.prototype.pause=function(){DEV&&n.debug(this,"pause");var t=this._getLoader();t.pause()},p.prototype.resume=function(){DEV&&n.debug(this,"resume");var t=this._getLoader();t.play()},p.prototype.stop=function(t){DEV&&n.debug(this,"stop",t);var e=this._getLoader(t||0);e.stop(),this.trigger(a.EVENT_STOP,t)},p.prototype.getPosition=function(){return this._getLoader().audio.currentTime},p.prototype.setPosition=function(t){DEV&&n.debug(this,"setPosition",t),this._getLoader().setPosition(t-.001)},p.prototype.getDuration=function(t){return this._getLoader(t).audio.duration},p.prototype.getLoaded=function(t){var e=this._getLoader(t);return e.audio.buffered.length?e.audio.buffered.end(0)-e.audio.buffered.start(0):0},p.prototype.getVolume=function(){return this.volume},p.prototype.setVolume=function(t){DEV&&n.debug(this,"setVolume",t),this.volume=t,this.webAudioApi?this.audioOutput.gain.value=t:this.loaders.forEach(function(e){e.audio.volume=t}),this.trigger(a.EVENT_VOLUME)},p.prototype.preload=function(t,e,i){DEV&&n.debug(this,"preload",t,i),i=null==i?1:i;var r=this._getLoader(i);r.load(t)},p.prototype.isPreloaded=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t&&!i.notLoading},p.prototype.isPreloading=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t},p.prototype.playPreloaded=function(t){DEV&&n.debug(this,"playPreloaded",t),t=null==t?1:t;var e=this._getLoader(t);return e.src?(this._setActive(t),e.play(),!0):!1},p.prototype.getSrc=function(t){return this._getLoader(t).src},p.prototype.isDeviceVolume=function(){return o.onlyDeviceVolume},p.prototype._logger=function(){try{return{main:n._showUrl(this.getSrc(0)),preloader:n._showUrl(this.getSrc(1))}}catch(t){return""}},i.audioContext=h,i.AudioImplementation=p},{"../audio-static":4,"../lib/async/events":29,"../lib/browser/detect":32,"../logger/logger":43,"./audio-html5-loader":25}],27:[function(t,e,i){var r=t("./export");t("./error/export"),t("./lib/net/error/export"),t("./logger/export"),t("./fx/equalizer/export"),t("./fx/volume/export"),e.exports=r},{"./error/export":7,"./export":9,"./fx/equalizer/export":21,"./fx/volume/export":23,"./lib/net/error/export":39,"./logger/export":42}],28:[function(t,e,i){var r=t("./promise"),n=t("../noop"),o=function(){var t=this,e=new r(function(e,i){t.resolve=e,t.reject=i});e["catch"](n),this.promise=function(){return e}};e.exports=o},{"../noop":41,"./promise":30}],29:[function(t,e,i){var r=t("../data/merge"),n="_listeners",o="_muted",s=function(){this[n]={},this[o]=!1};s.mixin=function(t){return r(t.prototype,s.prototype,!0),t},s.eventize=function(t){return r(t,s.prototype,!0),s.call(t),t},s.prototype.on=function(t,e){return this[n][t]||(this[n][t]=[]),this[n][t].push(e),this},s.prototype.off=function(t,e){if(!this[n][t])return this;if(!e)return delete this[n][t],this;for(var i=this[n][t],r=0,o=i.length;o>r;r++)if(i[r]===e||i[r].callback===e){i.splice(r,1),i.length||delete this[n][t];break}return this},s.prototype.once=function(t,e){var i=this,r=function(){i.off(t,r),e.apply(this,arguments)};return r.callback=e,i.on(t,r),this},s.prototype.clearListeners=function(){for(var t in this[n])this[n].hasOwnProperty(t)&&delete this[n][t];return this},s.prototype.trigger=function(t,e){if(this[o])return this;if(e=[].slice.call(arguments,1),"*"!==t&&s.prototype.trigger.apply(this,["*",t].concat(e)),!this[n][t])return this;for(var i=[].concat(this[n][t]),r=0,a=i.length;a>r;r++)i[r].apply(null,e);return this},s.prototype.pipeEvents=function(t){return this.on("*",s.prototype.trigger.bind(t)),this},s.prototype.muteEvents=function(){return this[o]=!0,this},s.prototype.unmuteEvents=function(){return delete this[o],this},e.exports=s},{"../data/merge":37}],30:[function(t,e,i){var r,n=t("vow"),o=t("../browser/detect"),s=t("../data/merge");"function"!=typeof window.Promise||"msie"===o.browser.name||"edge"===o.browser.name?(r=function(t){var e;try{e=new n.Promise(t)}catch(i){e=n.reject(i)}return e},s(r,n.Promise,!0),r.prototype=n.Promise.prototype):r=window.Promise,e.exports=r},{"../browser/detect":32,"../data/merge":37,vow:2}],31:[function(t,e,i){var r=t("../noop"),n=t("./promise"),o=function(t){var e=n.reject(t);return e["catch"](r),e};e.exports=o},{"../noop":41,"./promise":30}],32:[function(t,e,i){var r=navigator.userAgent.toLowerCase(),n=/(ucbrowser)\/([\w.]+)/,o=/(webkit)[ \/]([\w.]+)/,s=/(yabrowser)[ \/]([\w.]+)/,a=/(opr|opera)(?:.*version)?[ \/]([\w.]+)/,l=/(msie) ([\w.]+)/,u=/(edge)\/([\w.]+)/,h=/(iemobile)\/([\d\.]+)/,c=/(mozilla)(?:.*? rv:([\w.]+))?/,p=/^((?!chrome).)*version\/([\d\w\.]+).*(safari)/,d=n.exec(r)||p.exec(r)||s.exec(r)||u.exec(r)||h.exec(r)||a.exec(r)||o.exec(r)||l.exec(r)||r.indexOf("compatible")<0&&c.exec(r)||[],f={name:d[1]||"",version:d[2]||"0"};"safari"===d[3]&&(f.name=d[3]),"msie"===f.name&&(document.documentMode?f.documentMode=document.documentMode:(f.documentMode=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(f.documentMode=7))),"opr"===f.name&&(f.name="opera"),"mozilla"===f.name&&"11"===f.version.split(".")[0]&&(f.name="msie");var _=/(windows phone|ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,E=/(ipad|playbook)/,m=/(android)/,y=/(mobile)/;g=_.exec(r)||[];var v=E.exec(r)||!y.exec(r)&&m.exec(r)||[];g[1]&&(g[1]=g[1].replace(/\s/g,"_"));var g={type:g[1]||"",tablet:!!v[1],mobile:g[1]&&!v[1]||!1};g.type||(g.type="pc"),g.os=g.type,"ipad"===g.type||"iphone"===g.type||"ipod"===g.type?g.os="ios":"android"===g.type?g.os="android":"windows phone"===g.type||-1!==navigator.appVersion.indexOf("Win")?(g.os="windows",g.version=navigator.userAgent.match(/win[^ ]* ([^;]*)/i),g.version=g.version&&g.version[1]):-1!==navigator.appVersion.indexOf("Mac")?g.os="macos":-1!==navigator.appVersion.indexOf("X11")?g.os="unix":-1!==navigator.appVersion.indexOf("Linux")&&(g.os="linux");var b=!0;try{var T=document.createElement("audio");T.volume=.63,b=Math.abs(T.volume-.63)>.01}catch(w){b=!0}var A={browser:f,platform:g,onlyDeviceVolume:b};e.exports=A},{}],33:[function(t,e,i){var r=function(){function t(){if(!G){try{var t=F.getElementsByTagName("body")[0].appendChild(m("span"));t.parentNode.removeChild(t)}catch(e){return}G=!0;for(var i=U.length,r=0;i>r;r++)U[r]()}}function e(t){G?t():U[U.length]=t}function i(t){if(typeof k.addEventListener!=S)k.addEventListener("load",t,!1);else if(typeof F.addEventListener!=S)F.addEventListener("load",t,!1);else if(typeof k.attachEvent!=S)y(k,"onload",t);else if("function"==typeof k.onload){var e=k.onload;k.onload=function(){e(),t()}}else k.onload=t}function n(){M?o():s()}function o(){var t=F.getElementsByTagName("body")[0],e=m(R);e.setAttribute("type",I);var i=t.appendChild(e);if(i){var r=0;!function(){if(typeof i.GetVariable!=S){var n=i.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),z.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(10>r)return r++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,s()}()}else s()}function s(){var t=B.length;if(t>0)for(var e=0;t>e;e++){var i=B[e].id,r=B[e].callbackFn,n={success:!1,id:i};if(z.pv[0]>0){var o=E(i);if(o)if(!v(B[e].swfVersion)||z.wk&&z.wk<312)if(B[e].expressInstall&&l()){var s={};s.data=B[e].expressInstall,s.width=o.getAttribute("width")||"0",s.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(s.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(s.align=o.getAttribute("align"));for(var c={},p=o.getElementsByTagName("param"),d=p.length,f=0;d>f;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(c[p[f].getAttribute("name")]=p[f].getAttribute("value"));u(s,c,i,r)}else h(o),r&&r(n);else b(i,!0),r&&(n.success=!0,n.ref=a(i),r(n))}else if(b(i,!0),r){var _=a(i);_&&typeof _.SetVariable!=S&&(n.success=!0,n.ref=_),r(n)}}}function a(t){var e=null,i=E(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=S)e=i;else{var r=i.getElementsByTagName(R)[0];r&&(e=r)}return e}function l(){return!Y&&v("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function u(t,e,i,r){Y=!0,N=r||null,P={success:!1,id:i};var n=E(i);if(n){"OBJECT"==n.nodeName?(w=c(n),A=null):(w=n,A=i),t.id=x,(typeof t.width==S||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==S||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),F.title=F.title.slice(0,47)+" - Flash Player Installation";var o=z.ie&&z.win?"ActiveX":"PlugIn",s="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+F.title;if(typeof e.flashvars!=S?e.flashvars+="&"+s:e.flashvars=s,z.ie&&z.win&&4!=n.readyState){var a=m("div");i+="SWFObjectNew",a.setAttribute("id",i),n.parentNode.insertBefore(a,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}p(t,e,i)}}function h(t){if(z.ie&&z.win&&4!=t.readyState){var e=m("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=m("div");if(z.win&&z.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(R)[0];if(i){var r=i.childNodes;if(r)for(var n=r.length,o=0;n>o;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||e.appendChild(r[o].cloneNode(!0))}}return e}function p(t,e,i){var r,n=E(i);if(z.wk&&z.wk<312)return r;if(n)if(typeof t.id==S&&(t.id=i),z.ie&&z.win){var o="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?o+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+t[s]+'"'));var a="";for(var l in e)e[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+e[l]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",W[W.length]=t.id,r=E(t.id)}else{var u=m(R);u.setAttribute("type",I);for(var h in t)t[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?u.setAttribute("class",t[h]):"classid"!=h.toLowerCase()&&u.setAttribute(h,t[h]));for(var c in e)e[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&d(u,c,e[c]);n.parentNode.replaceChild(u,n),r=u}return r}function d(t,e,i){var r=m("param");r.setAttribute("name",e),r.setAttribute("value",i),t.appendChild(r)}function f(t){var e=E(t);e&&"OBJECT"==e.nodeName&&(z.ie&&z.win?(e.style.display="none",function(){4==e.readyState?_(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function _(t){var e=E(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}function E(t){var e=null;try{e=F.getElementById(t)}catch(i){}return e}function m(t){return F.createElement(t)}function y(t,e,i){t.attachEvent(e,i),H[H.length]=[t,e,i]}function v(t){var e=z.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function g(t,e,i,r){if(!z.ie||!z.mac){var n=F.getElementsByTagName("head")[0];if(n){var o=i&&"string"==typeof i?i:"screen";if(r&&(L=null,V=null),!L||V!=o){var s=m("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),L=n.appendChild(s),z.ie&&z.win&&typeof F.styleSheets!=S&&F.styleSheets.length>0&&(L=F.styleSheets[F.styleSheets.length-1]),V=o}z.ie&&z.win?L&&typeof L.addRule==R&&L.addRule(t,e):L&&typeof F.createTextNode!=S&&L.appendChild(F.createTextNode(t+" {"+e+"}"))}}}function b(t,e){if(q){var i=e?"visible":"hidden";G&&E(t)?E(t).style.visibility=i:g("#"+t,"visibility:"+i)}}function T(t){var e=/[\\\"<>\.;]/,i=null!=e.exec(t);return i&&typeof encodeURIComponent!=S?encodeURIComponent(t):t}var w,A,N,P,L,V,S="undefined",R="object",D="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",I="application/x-shockwave-flash",x="SWFObjectExprInst",C="onreadystatechange",k=window,F=document,j=navigator,M=!1,U=[n],B=[],W=[],H=[],G=!1,Y=!1,q=!0,z=function(){var t=typeof F.getElementById!=S&&typeof F.getElementsByTagName!=S&&typeof F.createElement!=S,e=j.userAgent.toLowerCase(),i=j.platform.toLowerCase(),r=i?/win/.test(i):/win/.test(e),n=i?/mac/.test(i):/mac/.test(e),o=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,a=[0,0,0],l=null;if(typeof j.plugins!=S&&typeof j.plugins[D]==R)l=j.plugins[D].description,!l||typeof j.mimeTypes!=S&&j.mimeTypes[I]&&!j.mimeTypes[I].enabledPlugin||(M=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k.ActiveXObject!=S)try{var u=new ActiveXObject(O);u&&(l=u.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(h){}return{w3:t,pv:a,wk:o,ie:s,win:r,mac:n}}();return function(){z.w3&&((typeof F.readyState!=S&&"complete"==F.readyState||typeof F.readyState==S&&(F.getElementsByTagName("body")[0]||F.body))&&t(),G||(typeof F.addEventListener!=S&&F.addEventListener("DOMContentLoaded",t,!1),z.ie&&z.win&&(F.attachEvent(C,function(){"complete"==F.readyState&&(F.detachEvent(C,arguments.callee),t())}),k==top&&!function(){if(!G){try{F.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t()}}()),z.wk&&!function(){return G?void 0:/loaded|complete/.test(F.readyState)?void t():void setTimeout(arguments.callee,0)}(),i(t)))}(),function(){z.ie&&z.win&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;t>e;e++)H[e][0].detachEvent(H[e][1],H[e][2]);
for(var i=W.length,n=0;i>n;n++)f(W[n]);for(var o in z)z[o]=null;z=null;for(var s in r)r[s]=null;r=null})}(),{registerObject:function(t,e,i,r){if(z.w3&&t&&e){var n={};n.id=t,n.swfVersion=e,n.expressInstall=i,n.callbackFn=r,B[B.length]=n,b(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){return z.w3?a(t):void 0},embedSWF:function(t,i,r,n,o,s,a,h,c,d){var f={success:!1,id:i};z.w3&&!(z.wk&&z.wk<312)&&t&&i&&r&&n&&o?(b(i,!1),e(function(){r+="",n+="";var e={};if(c&&typeof c===R)for(var _ in c)e[_]=c[_];e.data=t,e.width=r,e.height=n;var E={};if(h&&typeof h===R)for(var m in h)E[m]=h[m];if(a&&typeof a===R)for(var y in a)typeof E.flashvars!=S?E.flashvars+="&"+y+"="+a[y]:E.flashvars=y+"="+a[y];if(v(o)){var g=p(e,E,i);e.id==i&&b(i,!0),f.success=!0,f.ref=g}else{if(s&&l())return e.data=s,void u(e,E,i,d);b(i,!0)}d&&d(f)})):d&&d(f)},switchOffAutoHideShow:function(){q=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(t,e,i){return z.w3?p(t,e,i):void 0},showExpressInstall:function(t,e,i,r){z.w3&&l()&&u(t,e,i,r)},removeSWF:function(t){z.w3&&f(t)},createCSS:function(t,e,i,r){z.w3&&g(t,e,i,r)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=F.location.search||F.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return T(e);for(var i=e.split("&"),r=0;r<i.length;r++)if(i[r].substring(0,i[r].indexOf("="))==t)return T(i[r].substring(i[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var t=E(x);t&&w&&(t.parentNode.replaceChild(w,t),A&&(b(A,!0),z.ie&&z.win&&(w.style.display="block")),N&&N(P)),Y=!1}}}}();e.exports=r},{}],34:[function(t,e,i){var r=t("./pure-instance"),n=function(t,e){var i=new Error(t,e);i.name=this.name,this.message=i.message,this.stack=i.stack};n.create=function(t){var e=r(this);return e.name=t,e},n.prototype=r(Error),n.prototype.name="ErrorClass",e.exports=n},{"./pure-instance":36}],35:[function(t,e,i){var r=t("../async/events"),n=function(t){if(t){for(var e in t)"_"===e[0]||"function"!=typeof t[e]||t[e]===Object.prototype[e]||t.hasOwnProperty(e)||r.prototype.hasOwnProperty(e)||(this[e]=t[e].bind(t));t.pipeEvents&&(r.call(this),this.on=r.prototype.on,this.once=r.prototype.once,this.off=r.prototype.off,this.clearListeners=r.prototype.clearListeners,t.pipeEvents(this))}};n.exportStatic=function(t,e,i){i=i||[],Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&"_"!==r[0]&&"prototype"!==r&&-1===i.indexOf(r)&&(e[r]=t[r])})},n.createClass=function(t,e,i){var r=function(){var e=function(){};e.prototype=t.prototype;var i=new e;return t.apply(i,arguments),i._proxy()},o=function(){};o.prototype=(e||n).prototype,r.prototype=new o;var s;for(var a in t.prototype)s=t.prototype[a],Object.prototype[a]!=s&&"function"!=typeof s&&"_"!==a[0]&&(r.prototype[a]=s);var l=function(t){var e=n.prototype;n.prototype=r.prototype;var i=new n(t);return n.prototype=e,i};return t.prototype._proxy=function(){return this.__proxy||(this.__proxy=l(this)),this.__proxy},i||n.exportStatic(t,r),r},e.exports=n},{"../async/events":29}],36:[function(t,e,i){var r=function(t){var e=function(){};return e.prototype=t.prototype,new e};e.exports=r},{}],37:[function(t,e,i){var r=function(t){var e,i,r=[].slice.call(arguments,1);if(r[r.length-1]===!0)e=t,r.pop();else{e={};for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}for(var n=0,o=r.length;o>n;n++)for(i in r[n])r[n].hasOwnProperty(i)&&(e[i]=r[n][i]);return e};e.exports=r},{}],38:[function(t,e,i){t("../export"),ya.music.lib||(ya.music.lib={});var r=t("./async/events"),n=t("./class/error-class"),o=t("./class/pure-instance"),s=function(){r.call(this)};s.prototype=o(r),s.mixin=r.mixin,s.eventize=r.eventize;var a=function(){n.apply(this,arguments)};a.prototype=o(n),a.create=n.create,ya.music.lib.Events=s,ya.music.lib.Error=a,ya.music.lib.Promise=t("./async/promise"),ya.music.lib.Deferred=t("./async/deferred"),ya.music.lib.pureInstance=o,ya.music.lib.merge=t("./data/merge"),ya.music.info=t("./browser/detect")},{"../export":9,"./async/deferred":28,"./async/events":29,"./async/promise":30,"./browser/detect":32,"./class/error-class":34,"./class/pure-instance":36,"./data/merge":37}],39:[function(t,e,i){t("../../../export");var r=t("./loader-error");ya.music.Audio.LoaderError=r},{"../../../export":9,"./loader-error":40}],40:[function(t,e,i){var r=t("../../class/error-class"),n=function(t){r.call(this,t)};n.prototype=r.create("LoaderError"),n.TIMEOUT="request timeout",n.FAILED="request failed",e.exports=n},{"../../class/error-class":34}],41:[function(t,e,i){var r=function(){};e.exports=r},{}],42:[function(t,e,i){t("../export");var r=t("./logger");ya.music.Audio.Logger=r},{"../export":9,"./logger":43}],43:[function(t,e,i){var r=["debug","log","info","warn","error","trace"],n=t("../lib/noop"),o=function(t){this.channel=t};o.ignores=[],o.logLevels=[],o.prototype.debug=n,o.prototype.log=n,o.prototype.info=n,o.prototype.warn=n,o.prototype.error=n,o.prototype.trace=n,o.prototype._showUrl=function(t){return o.showUrl(t)},o.showUrl=function(t){return t},r.forEach(function(t){o.prototype[t]=function(){var e=[].slice.call(arguments);e.unshift(this.channel),e.unshift(t),o.log.apply(o,e)}}),o.log=function(t,e,i){var r=[].slice.call(arguments,3).map(function(t){return t&&t._logger&&t._logger()||t}),n={timestamp:+new Date,level:t,channel:e,context:i,message:r};o.ignores[e]||-1===o.logLevels.indexOf(t)||o._dumpEntry(n)},o._dumpEntry=function(t){try{var e=t.level,i=t.context&&(t.context.taskName||t.context.name),r=t.context&&(t.context._logger?t.context._logger():"");"function"!=typeof console[e]?console.log.apply(console,[e.toUpperCase(),o._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",r].concat(t.message)):console[e].apply(console,[o._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",r].concat(t.message))}catch(n){}},o._formatTimestamp=function(t){var e=new Date(t),i=e.getMilliseconds();return i=i>100?i:i>10?"0"+i:"00"+i,e.toLocaleTimeString()+"."+i},e.exports=o},{"../lib/noop":41}]},{},[27]);
//# sourceMappingURL=dist/index.map.json
